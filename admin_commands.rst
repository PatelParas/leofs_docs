
LeoFS Administration Commands
=============================

+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| **Command**                                                 | **Description**                                                                                                 |
+=============================================================+=================================================================================================================+
| **General Commands**                                                                                                                                                          |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| status [`<storage-node>`]                                   | * Retrieve status of every node (default)                                                                       |
|                                                             | * Retrieve status of the specified node                                                                         |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| whereis `<file-path>`                                       | Retrieve an assigned object by the file-path                                                                    |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| **Storage Operation**                                                                                                                                                         |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| detach `<storage-node>`                                     | * Remove the storage node in the LeoFS storage cluster                                                          |
|                                                             | * Current status: ``running`` | ``stop``                                                                        |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| suspend `<storage-node>`                                    | * Suspend a storage node for maintenance                                                                        |
|                                                             | * This command does NOT detach the node from the storage cluster                                                |
|                                                             | * While suspending, it rejects any requests                                                                     |
|                                                             | * Current status: ``running``                                                                                   |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| resume `<storage-node>`                                     | * Resume a storage node for finished maintenance                                                                |
|                                                             | * Current status: ``suspended`` | ``restarted``                                                                 |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| start                                                       | Start LeoFS after distributing the RING from LeoFS Manager to LeoFS Storage and LeoFS Gateway                   |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| rebalance                                                   | Commit detached and attached nodes to join the cluster AND Rebalance objects in the cluster                     |
|                                                             | based on the updated cluster topology                                                                           |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| **Recover Commands**                                                                                                                                                          | 
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| recover file `<file-path>`                                  | Recover an inconsistent object specified by the file-path                                                       |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| recover node `<storage-node>`                               | Recover all inconsistent objects in the specified node                                                          |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| recover ring `<storage-node>`                               | Recover rings of the specified node                                                                             |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| recover cluster `<cluster-id>`                              | [v1.0.0-] Recover all inconsistent objects in the specified cluster                                             |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| **Compaction Commands**                                                                                                                                                       |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| compact start `<storage-node>` (`all` | `<num-of-targets>`) | * Execute to remove unnecessary objects from the node                                                           |
| `[<num-of-compaction-proc>]`                                | * num-of-targets: It controls the number of containers in parallel                                              |
|                                                             | * num-of-compaction-procs: It controls the number of procs to execute the compaction in parallel                |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| compact suspend `<storage-node>`                            | Suspend to execute the compaction                                                                               |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| compact resume  `<storage-node>`                            | Resume to execute the compaction                                                                                |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| compact status  `<storage-node>`                            | * See the current compaction status                                                                             |
|                                                             | * Compaction's status: ``idle``, ``running``, ``suspend``                                                       |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| **Disk Usage**                                                                                                                                                                |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| du `<storage-node>`                                         | See the current disk usages                                                                                     |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| du detail `<storage-node>`                                  | See the current disk usages in the details                                                                      |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| **Gateway Operation**                                                                                                                                                         |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| **Manager Maintenance**                                                                                                                                                       |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| **S3-related Commands**                                                                                                                                                       |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+
| **Multi Data Center Operation**                                                                                                                                               |
+-------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------+

